<div [ngClass]="{ lightMode: themeService.light }">
    <div class="content">
        <div class="container-fluid packagesPage">
            <div class="row w-50 mx-auto filter">
                <div class="col-4 mx-auto">
                    <div class="filterItem" (click)="filterMyPackages()" [ngClass]="{ active: showMyPackages }">
                        <p class="m-0 unselectable">My Packages</p>
                        <div class="navUnderline gradientBg"></div>
                    </div>
                </div>
                <div class="col-4 mx-auto" *ngIf="userService.isShipper">
                    <div class="filterItem" (click)="filterAcceptedPackages()" [ngClass]="{ active: showAcceptedPackages }">
                        <p class="m-0">Accepted Packages</p>
                        <div class="navUnderline gradientBg"></div>
                    </div>
                </div>
                <div class="col-4 mx-auto" *ngIf="userService.isShipper">
                    <div class="filterItem" (click)="filterToDeliver()" [ngClass]="{ active: showToDeliver }">
                        <p class="m-0">Available Packages</p>
                        <div class="navUnderline gradientBg"></div>
                    </div>
                </div>
            </div>

            <div class="row editPackages centerElements">
                <div class="iconBg" title="Add package" (click)="addPackageMode = true">
                    <mat-icon class="gradient centerElements addIcon">add</mat-icon>
                </div>
                <div class="iconBg" title="Edit package">
                    <mat-icon class="gradient centerElements editIcon">edit</mat-icon>
                </div>
                <div class="iconBg" title="Remove package">
                    <mat-icon class="gradient centerElements editIcon">delete</mat-icon>
                </div>
            </div>

            <div class="row mt-3">
                <div class="col-xl-4 col-lg-6 col-12 center">
                    <stabox-add-package (newRecieverEvent)="addRecieverMode = true" (doneEvent)="addPackageMode = false" *ngIf="addPackageMode"></stabox-add-package>
                </div>
                <div class="col-xl-4 col-lg-6 col-12center">
                    <stabox-add-reciever-with-address (doneEvent)="addRecieverMode = false" *ngIf="addRecieverMode"></stabox-add-reciever-with-address>
                </div>
                <div *ngIf="showMyPackages">
                    <div *ngFor="let pkg of packageService.packages">
                        <div class="col-xl-4 col-lg-6 col-12">
                            <stabox-package-card [package]="pkg"></stabox-package-card>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <app-footer></app-footer>
    </div>
</div>